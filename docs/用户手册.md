# xbot 用户手册

## 1. 简介

xbot 是一个功能丰富的微信机器人系统，可以在微信中提供智能对话、自动回复、定时提醒等多种功能。本手册将向您介绍如何使用 xbot 的各项功能，帮助您充分利用系统提供的能力。

## 2. 快速开始

### 2.1 登录管理后台

xbot 提供了一个强大的管理后台，您可以通过它来管理和监控机器人：

1. 在浏览器中打开 `http://[服务器IP]:9090`（默认端口为 9090）
2. 输入用户名和密码登录（默认用户名为 `admin`，密码为 `admin123`）
3. 登录后，您将进入 xbot 管理后台的控制面板

### 2.2 了解管理后台界面

管理后台包含以下主要功能模块：

- **控制面板** - 显示系统状态和统计信息
- **插件管理** - 管理各类功能插件
- **联系人管理** - 查看和管理微信好友和群组
- **文件管理** - 管理上传的文件和资源
- **系统设置** - 配置系统参数和选项
- **日志查看** - 查看系统运行日志

### 2.3 微信扫码登录

首次使用 xbot 时，需要进行微信登录：

1. 在管理后台点击"登录微信"按钮
2. 使用手机微信扫描显示的二维码
3. 在手机上确认登录
4. 登录成功后，管理后台将显示当前登录的微信账号信息

## 3. 基本使用方法

### 3.1 与机器人对话

xbot 支持多种方式的智能对话：

#### 私聊对话

1. 直接向机器人微信账号发送消息
2. 机器人会自动回复您的问题或请求
3. 支持文本、语音、图片等多种输入方式

#### 群聊对话

在群聊中与机器人交互有两种方式：

1. **@机器人** - 在群里@机器人昵称，然后输入您的问题
2. **唤醒词** - 使用设置的唤醒词（如"机器人"）开头发送消息

例如：

```
@小小x 今天天气怎么样？
机器人，告诉我今天的日期
```

### 3.2 使用命令

xbot 支持多种命令，可以让您快速访问特定功能。命令通常以特定前缀（默认为`!`）开头：

```
!help          # 显示帮助信息
!menu          # 显示功能菜单
!weather 北京   # 查询北京天气
```

不同的插件会提供不同的命令，您可以通过输入 `!help` 查看所有可用命令。

### 3.3 语音交互

xbot 支持语音输入和输出：

1. 向机器人发送语音消息
2. 系统会自动识别语音内容并处理
3. 机器人可以通过语音回复您的问题

要使机器人回复语音消息，可以使用特定命令：

```
!语音 今天天气怎么样？
```

## 4. 核心功能

### 4.1 智能对话

xbot 可以通过各种 AI 模型提供智能对话服务：

#### 切换对话模型

根据需要切换不同的 AI 模型：

```
!model gpt-4     # 切换到 GPT-4 模型
!model claude    # 切换到 Claude 模型
```

#### 参数调整

调整 AI 回复的参数：

```
!temperature 0.7  # 设置模型温度参数
!tokens 2000      # 设置最大回复长度
```

#### 图像理解

发送图片并询问相关问题：

1. 发送一张图片
2. 在引用该图片的情况下提问
3. 机器人将分析图片并回答问题

### 4.2 定时提醒

设置定时提醒，让机器人在特定时间发送消息：

```
!remind 30分钟后 喝水
!remind 明天早上8点 参加会议
!remind 每天12:00 吃午饭
```

查看和管理提醒：

```
!reminders        # 查看所有提醒
!cancelremind 2   # 取消编号为2的提醒
```

### 4.3 文件管理

通过机器人发送和接收文件：

```
!upload           # 上传文件到机器人
!files            # 列出可用文件
!get 文件名        # 获取特定文件
```

### 4.4 群管理功能

使用机器人辅助管理微信群：

```
!welcome on       # 开启群欢迎功能
!statistics       # 显示群聊统计信息
!active           # 显示活跃成员排名
```

## 5. 常用插件功能

### 5.1 签到插件

使用签到功能可以累积积分：

```
!签到             # 每日签到
!积分             # 查看当前积分
!积分排行         # 查看积分排行榜
```

### 5.2 音乐插件

使用音乐插件搜索和分享音乐：

```
!音乐 歌名        # 搜索并分享歌曲
!点歌 歌名 歌手   # 指定歌手搜索歌曲
```

### 5.3 天气插件

查询天气信息：

```
!天气 城市名      # 查询指定城市天气
!天气 未来3天     # 查询未来几天的天气预报
```

### 5.4 新闻插件

获取最新新闻：

```
!新闻             # 获取今日头条
!新闻 科技        # 获取特定类别的新闻
```

### 5.5 翻译插件

翻译文本内容：

```
!翻译 你好        # 将中文翻译为英文
!翻译 hello 中文  # 将英文翻译为中文
```

## 6. 高级功能

### 6.1 聊天室模式

启用聊天室模式，支持持续对话：

```
!chatroom start   # 开始聊天室模式
!chatroom end     # 结束聊天室模式
```

在聊天室模式下，机器人会记住对话上下文，提供更连贯的对话体验。

### 6.2 角色扮演

让机器人扮演特定角色：

```
!role 客服        # 机器人扮演客服角色
!role 厨师        # 机器人扮演厨师角色
!role reset       # 重置机器人角色
```

### 6.3 朋友圈功能

通过机器人操作微信朋友圈：

```
!朋友圈 查看       # 查看最新朋友圈
!朋友圈 点赞 2     # 对第2条朋友圈点赞
!朋友圈 评论 2 不错 # 对第2条朋友圈评论
```

### 6.4 AI 绘图

使用 AI 生成图片：

```
!draw 一只可爱的小猫 # 生成图片
!想象 科技风格的城市 # 生成图片并添加详细描述
```

## 7. 个性化设置

### 7.1 设置自动回复

配置机器人的自动回复功能：

```
!autoreply add 你好=你好啊   # 添加自动回复规则
!autoreply list              # 查看所有自动回复规则
!autoreply remove 1          # 删除编号为1的规则
```

### 7.2 调整机器人行为

设置机器人的回复风格和行为：

```
!style 正式      # 设置为正式回复风格
!style 幽默      # 设置为幽默回复风格
!verbose on      # 开启详细回复模式
!verbose off     # 关闭详细回复模式
```

### 7.3 设置黑名单和白名单

控制谁可以使用机器人：

```
!whitelist add wxid_123      # 添加用户到白名单
!blacklist add 12345@chatroom # 添加群组到黑名单
!whitelist list              # 查看白名单列表
!blacklist remove wxid_123   # 从黑名单移除用户
```

## 8. 积分系统

### 8.1 积分规则

xbot 包含一个积分系统，用户可以通过多种方式获取和使用积分：

- 每日签到：+10 积分
- 连续签到额外奖励：+连续天数积分
- 发送消息消耗：-1 积分/次（可配置）
- 使用特殊功能：根据功能定价消耗积分

### 8.2 积分查询

查看和管理积分：

```
!积分             # 查看自己的积分
!积分排行         # 查看积分排行榜
```

### 8.3 积分使用

积分可用于：

```
!兑换 商品名       # 使用积分兑换商品
!抽奖             # 使用积分参与抽奖
!送积分 wxid_123 50 # 赠送积分给其他用户
```

## 9. 管理员功能

### 9.1 系统管理

系统管理员可执行的特殊命令：

```
!admin reload      # 重新加载配置
!admin restart     # 重启机器人系统
!admin status      # 查看系统状态
!admin log         # 查看系统日志
```

### 9.2 用户管理

```
!admin addadmin wxid_123  # 添加管理员
!admin block wxid_123     # 封禁用户
!admin unblock wxid_123   # 解封用户
```

### 9.3 积分管理

```
!admin addpoint wxid_123 100  # 增加用户积分
!admin resetpoints            # 重置所有用户积分
```

## 10. 故障排除

### 10.1 机器人无响应

如果机器人没有回复您的消息：

1. 检查机器人是否在线（在管理后台查看状态）
2. 确认您的消息格式是否正确
3. 确认您不在黑名单中
4. 尝试发送 `!ping` 测试机器人是否响应
5. 如果群聊中无响应，确认您是否正确@了机器人或使用了唤醒词

### 10.2 特定功能不可用

如果某个功能无法使用：

1. 使用 `!help 功能名` 查看该功能的帮助信息
2. 确认相关插件是否启用（管理员可在管理后台查看）
3. 确认您是否有权限使用该功能
4. 检查您的积分是否足够使用该功能

### 10.3 重置机器人

如果机器人行为异常，可尝试重置：

```
!reset            # 重置当前对话
!reboot           # 请求重启机器人（需管理员权限）
```

## 11. 最佳实践

### 11.1 提高回复质量

为了获得更好的机器人回复：

1. 提问尽量清晰、具体
2. 提供足够上下文信息
3. 对于复杂问题，分步骤提问
4. 利用聊天室模式保持对话连贯性

### 11.2 节约积分

合理使用积分的技巧：

1. 使用更高效的提问方式
2. 选择适合任务的 AI 模型
3. 定期签到获取免费积分
4. 参与社区活动赚取额外积分

### 11.3 群聊使用

在群聊中有效使用机器人：

1. 明确@机器人或使用唤醒词
2. 避免在多个群同时大量调用机器人
3. 使用 `!help` 在私聊中了解功能，避免群内刷屏
4. 为不同群设置不同的自动回复和欢迎语

## 12. 隐私和安全

### 12.1 数据保护

xbot 对用户数据的处理原则：

1. 消息内容仅用于提供服务，不会持久存储完整对话
2. 系统可能记录必要的统计数据用于改进服务
3. 个人信息不会被分享给第三方

### 12.2 安全建议

保护您账号安全的建议：

1. 不要在对话中分享敏感个人信息
2. 定期检查授权的设备和应用
3. 管理员应使用强密码保护管理后台账号
4. 如发现异常行为，及时联系系统管理员

## 13. 常见问题解答

**Q: 如何查看可用的所有命令？**  
A: 发送 `!help` 或 `!menu` 获取命令列表。

**Q: 机器人支持哪些消息类型？**  
A: 支持文本、图片、语音、视频、文件等多种类型。

**Q: 如何修改机器人的名称？**  
A: 管理员可在管理后台的系统设置中修改机器人名称。

**Q: 积分会过期吗？**  
A: 默认情况下积分不会过期，但管理员可能设置了积分有效期。

**Q: 如何申请成为管理员？**  
A: 请联系当前的系统管理员申请权限。

**Q: 忘记管理后台密码怎么办？**  
A: 请联系系统管理员重置密码，或修改配置文件中的密码设置。

## 14. 获取更多帮助

如需更多帮助，可通过以下方式获取支持：

1. 使用 `!feedback 内容` 向系统管理员发送反馈
2. 访问 xbot 官方文档: https://github.com/user/xbot/docs
3. 加入用户交流群获取社区支持
4. 发送邮件至 support@example.com

感谢您使用 xbot！我们希望它能为您的微信使用体验带来便利和乐趣。
